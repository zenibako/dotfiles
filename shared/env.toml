
# Shared environment variables for zsh and nushell
# This file is the single source of truth for environment variables
# that should be consistent across shells.
#
# Usage:
#   - nushell: parsed natively with `open`
#   - zsh: parsed with a helper function
#
# Note: Use $HOME for home directory references (will be expanded by shells)

[env]
EDITOR = "nvim"
XDG_CONFIG_HOME = "$HOME/.config"
VENV_HOME = "$HOME/.virtualenvs"
NVM_DIR = "$HOME/.nvm"

# pnpm
PNPM_HOME = "$HOME/Library/pnpm"

# Salesforce CLI
SF_USE_GENERIC_UNIX_KEYCHAIN = "true"
SF_BETA_TRACK_FILE_MOVES = "true"

# Lua paths (luarocks 5.4)
LUA_PATH = "/opt/homebrew/Cellar/luarocks/3.12.2/share/lua/5.4/?.lua;/opt/homebrew/share/lua/5.4/?.lua;/opt/homebrew/share/lua/5.4/?/init.lua;/opt/homebrew/lib/lua/5.4/?.lua;/opt/homebrew/lib/lua/5.4/?/init.lua;./?.lua;./?/init.lua;$HOME/.luarocks/share/lua/5.4/?.lua;$HOME/.luarocks/share/lua/5.4/?/init.lua"
LUA_CPATH = "/opt/homebrew/lib/lua/5.4/?.so;/opt/homebrew/lib/lua/5.4/loadall.so;./?.so;$HOME/.luarocks/lib/lua/5.4/?.so"

{{#if opencode_profile_work}}
# Jira configuration (work profile)
JIRA_BROWSER = "{{jira_browser}}"
JIRA_API_TOKEN = "{{jira_api_token}}"
JIRA_API_KEY = "{{jira_api_token}}"
JIRA_USER_API_KEY = "{{jira_api_token}}"
JIRA_WORKSPACE_URL = "{{jira_workspace_url}}"
JIRA_DOMAIN = "{{jira_workspace_url}}"
JIRA_URL = "{{jira_workspace_url}}"
JIRA_USER_EMAIL = "{{jira_user_email}}"
JIRA_USER = "{{jira_user_email}}"
JIRA_PROJECT_KEY = "{{jira_project_key}}"

# GitLab configuration (work profile)
GITLAB_TOKEN = "{{gitlab_personal_access_token}}"
GITLAB_URL = "{{gitlab_url}}"
CI_JOB_TOKEN = "{{gitlab_personal_access_token}}"

# Netskope CA certificates (work profile)
NODE_EXTRA_CA_CERTS = "{{node_extra_ca_certs}}"
REQUESTS_CA_BUNDLE = "{{node_extra_ca_certs}}"

# Powerlevel10k (work profile)
P10K_ROOT_DIR = "{{p10k_root_dir}}"

# SonarQube (work profile)
SONAR_TOKEN = "{{sonarqube_token}}"
{{/if}}

{{#if opencode_profile_personal}}
# Home Assistant
HA_TOKEN = "{{home_assistant_token}}"
HA_URL = "{{home_assistant_url}}"

# Bluesky
BSKY_APP_PASSWORD = "{{bluesky_app_password}}"
BSKY_HANDLE = "{{bluesky_handle}}"

# Plex
PLEX_USER_TOKEN = "{{plex_user_token}}"
PLEX_SERVER_TOKEN = "{{plex_server_token}}"
PLEX_URL = "{{plex_url}}"

# TMDB (for Plex watchlist)
TMDB_KEY = "{{tmdb_key}}"

# Google APIs
YOUTUBE_API_KEY = "{{youtube_api_key}}"
GOOGLE_PLACES_API_KEY = "{{google_places_api_key}}"

# Slack (cookie auth)
SLACK_D_COOKIE = "{{slack_d_cookie}}"
SLACK_TOKEN = "{{slack_token}}"

# Reddit
REDDIT_SESSION = "{{reddit_session}}"
TOKEN_V2 = "{{reddit_token_v2}}"

# Brave Search API (for OpenClaw)
BRAVE_API_KEY = "{{brave_search_api_key}}"

# Proton Mail Bridge credentials
PROTON_USER = "{{proton_user}}"
PROTON_PASSWORD = "{{proton_password}}"
{{/if}}

[path]
# Paths to append (order matters, first = highest priority when prepended)
prepend = [
    "{{shell_bin_path}}",
    "$HOME/.luarocks/bin",
    "$HOME/.cargo/bin",
    "$HOME/Library/pnpm",
    "/opt/python27/bin",
]

append = [
    "$HOME/go/bin",
    "$HOME/.local/bin",
    "$HOME/.atuin/bin",
]

